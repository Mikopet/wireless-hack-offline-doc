<section>
    <h2 class="hide">How to Hack Wi-Fi: Cracking WPA2-PSK Passwords Using Aircrack-Ng</h2> 
    <p>Welcome back, my greenhorn hackers.</p><p>When Wi-Fi was first developed in the late 1990s, Wired Equivalent Privacy was created to give wireless communications confidentiality. WEP, as it became known, proved terribly flawed and easily cracked. You can read more about that in my <strong><a href="http://null-byte.wonderhowto.com/how-to/hack-wi-fi-getting-started-with-terms-and-technologies-0147659/">beginner's guide to hacking Wi-Fi</a></strong>.</p><p>As a replacement, most wireless access points now use Wi-Fi Protected Access II with a pre-shared key for wireless security, known as WPA2-PSK. WPA2 uses a stronger encryption algorithm, AES, that's very difficult to crack—but not impossible. My <strong><a href="http://null-byte.wonderhowto.com/how-to/hack-wi-fi-getting-started-with-terms-and-technologies-0147659/">beginner's Wi-Fi hacking guide</a></strong> also gives more information on this.</p><p>The weakness in the WPA2-PSK system is that the encrypted password is shared in what is known as the 4-way handshake. When a client authenticates to the access point (AP), the client and the AP go through a 4-step process to authenticate the user to the AP. If we can grab the password at that time, we can then attempt to crack it.</p> <figure class="whtGallery" id="23761713docPartGal880003" role="group"><div class="gallery-layout"><div class="gallery-layout-container"><figure class="gal-mgb" data-index="0"><img src="http://img.wonderhowto.com/img/18/41/63513198981479/0/hack-wi-fi-cracking-wpa2-psk-passwords-using-aircrack-ng.w654.jpg" alt="How to Hack Wi-Fi: Cracking WPA2-PSK Passwords Using Aircrack-Ng" width="532" height="532" style="max-width:532px;height:auto;"/></figure></div></div></figure> <p>In this tutorial from our <strong><a href="http://null-byte.wonderhowto.com/how-to/wi-fi-hacking/">Wi-Fi Hacking series</a></strong>, we'll look at using <strong><a href="http://null-byte.wonderhowto.com/how-to/hack-wi-fi-getting-started-with-aircrack-ng-suite-wi-fi-hacking-tools-0147893/">aircrack-ng</a></strong> and a <a href="http://null-byte.wonderhowto.com/search/dictionary-attack/">dictionary attack</a> on the encrypted password after grabbing it in the 4-way handshake. If you're looking for a faster way, I suggest you also check out my article on <strong><a href="http://null-byte.wonderhowto.com/how-to/hack-wi-fi-cracking-wpa2-psk-passwords-with-cowpatty-0148423/">hacking WPA2-PSK passwords using coWPAtty</a></strong>.</p>
</section>
<section>
    <h2 class="step">Step 1: Put Wi-Fi Adapter in Monitor Mode with Airmon-Ng</h2><p>Let's start by putting our wireless adapter in monitor mode. For info on what kind of wireless adapter you should have, check out <strong><a href="http://null-byte.wonderhowto.com/how-to/hack-wi-fi-getting-started-with-terms-and-technologies-0147659/">this guide</a></strong>. This is similar to putting a wired adapter into promiscuous mode. It allows us to see all of the wireless traffic that passes by us in the air. Let's open a terminal and type:</p><ul><li><strong>airmon-ng start wlan0</strong></li></ul> <figure class="whtGallery" id="45650562docPartGal880007" role="group"><div class="gallery-layout"><div class="gallery-layout-container"><figure class="gal-mgb" data-index="0"><img src="http://img.wonderhowto.com/img/29/93/63513196883556/0/hack-wi-fi-cracking-wpa2-psk-passwords-using-aircrack-ng.w654.jpg" alt="How to Hack Wi-Fi: Cracking WPA2-PSK Passwords Using Aircrack-Ng" width="532" height="532" style="max-width:532px;height:auto;"/></figure></div></div></figure> <p>Note that airmon-ng has renamed your <strong>wlan0</strong> adapter to <strong>mon0</strong>.</p>
</section>
<section>
    <h2 class="step">Step 2: Capture Traffic with Airodump-Ng</h2><p>Now that our wireless adapter is in monitor mode, we have the capability to see all the wireless traffic that passes by in the air. We can grab that traffic by simply using the <strong>airodump-ng</strong> command.</p><p>This command grabs all the traffic that your wireless adapter can see and displays critical information about it, including the BSSID (the MAC address of the AP), power, number of beacon frames, number of data frames, channel, speed, encryption (if any), and finally, the ESSID (what most of us refer to as the SSID). Let's do this by typing:</p><ul><li><strong>airodump-ng mon0</strong></li></ul> <figure class="whtGallery" id="6708024docPartGal880011" role="group"><div class="gallery-layout"><div class="gallery-layout-container"><figure class="gal-mgb" data-index="0"><img src="http://img.wonderhowto.com/img/27/54/63513197097682/0/hack-wi-fi-cracking-wpa2-psk-passwords-using-aircrack-ng.w654.jpg" alt="How to Hack Wi-Fi: Cracking WPA2-PSK Passwords Using Aircrack-Ng" width="532" height="532" style="max-width:532px;height:auto;"/></figure></div></div></figure> <p>Note all of the visible APs are listed in the upper part of the screen and the clients are listed in the lower part of the screen.</p>
</section>
<section>
    <h2 class="step">Step 3: Focus Airodump-Ng on One AP on One Channel</h2><p>Our next step is to focus our efforts on one AP, on one channel, and capture critical data from it. We need the BSSID and channel to do this. Let's open another terminal and type:</p><ul><li><strong>airodump-ng --bssid 08:86:30:74:22:76 -c 6 --write WPAcrack mon0</strong></li></ul> <figure class="whtGallery" id="6479096docPartGal880015" role="group"><div class="gallery-layout"><div class="gallery-layout-container"><figure class="gal-mgb" data-index="0"><img src="http://img.wonderhowto.com/img/56/38/63513197261872/0/hack-wi-fi-cracking-wpa2-psk-passwords-using-aircrack-ng.w654.jpg" alt="How to Hack Wi-Fi: Cracking WPA2-PSK Passwords Using Aircrack-Ng" width="532" height="532" style="max-width:532px;height:auto;"/></figure></div></div></figure> <ul><li><em><strong>08:86:30:74:22:76</strong> is the BSSID of the AP</em></li> <li><em><strong>-c 6</strong> is the channel the AP is operating on</em></li> <li><em><strong>WPAcrack</strong> is the file you want to write to</em></li> <li><em><strong>mon0</strong> is the monitoring wireless adapter*</em></li> </ul><p>As you can see in the screenshot above, we're now focusing on capturing data from one AP with a ESSID of Belkin276 on channel 6. The Belkin276 is probably a default SSID, which are prime targets for wireless hacking as the users that leave the default ESSID usually don't spend much effort securing their AP.</p>
</section>
<section>
    <h2 class="step">Step 4: Aireplay-Ng Deauth</h2><p>In order to capture the encrypted password, we need to have the client authenticate against the AP. If they're already authenticated, we can de-authenticate them (kick them off) and their system will automatically re-authenticate, whereby we can grab their encrypted password in the process. Let's open another terminal and type:</p><ul><li><strong>aireplay-ng --deauth 100 -a 08:86:30:74:22:76 mon0</strong></li></ul> <figure class="whtGallery" id="55044773docPartGal880019" role="group"><div class="gallery-layout"><div class="gallery-layout-container"><figure class="gal-mgb" data-index="0"><img src="http://img.wonderhowto.com/img/66/40/63513197432817/0/hack-wi-fi-cracking-wpa2-psk-passwords-using-aircrack-ng.w654.jpg" alt="How to Hack Wi-Fi: Cracking WPA2-PSK Passwords Using Aircrack-Ng" width="532" height="532" style="max-width:532px;height:auto;"/></figure></div></div></figure> <ul><li><em><strong>100</strong> is the number of de-authenticate frames you want to send</em></li> <li><em><strong>08:86:30:74:22:76</strong> is the BSSID of the AP</em></li> <li><em><strong>mon0</strong> is the monitoring wireless adapter</em></li></ul>
</section>
<section>
    <h2 class="step">Step 5: Capture the Handshake</h2><p>In the previous step, we bounced the user off their own AP, and now when they re-authenticate, airodump-ng will attempt to grab their password in the new 4-way handshake. Let's go back to our airodump-ng terminal and check to see whether or not we've been successful.</p> <figure class="whtGallery" id="29441635docPartGal880023" role="group"><div class="gallery-layout"><div class="gallery-layout-container"><figure class="gal-mgb" data-index="0"><img src="http://img.wonderhowto.com/img/27/47/63513197552766/0/hack-wi-fi-cracking-wpa2-psk-passwords-using-aircrack-ng.w654.jpg" alt="How to Hack Wi-Fi: Cracking WPA2-PSK Passwords Using Aircrack-Ng" width="532" height="532" style="max-width:532px;height:auto;"/></figure></div></div></figure> <p>Notice in the top line to the far right, airodump-ng says "WPA handshake." This is the way it tells us we were successful in grabbing the encrypted password! That is the first step to success!</p>
</section>
<section>
    <h2 class="step">Step 6: Let's Aircrack-Ng That Password!</h2><p>Now that we have the encrypted password in our file <strong>WPAcrack</strong>, we can run that file against aircrack-ng using a password file of our choice. Remember that this type of attack is only as good as your password file. I'll be using the default password list included with aircrack-ng on <strong><a href="http://null-byte.wonderhowto.com/how-to/hack-like-pro-getting-started-with-backtrack-your-new-hacking-system-0146889/">BackTrack</a></strong> named <strong>darkcOde</strong>.</p><p>We'll now attempt to crack the password by opening another terminal and typing:</p><ul><li><strong>aircrack-ng WPAcrack-01.cap -w /pentest/passwords/wordlists/darkc0de</strong></li></ul> <figure class="whtGallery" id="35962263docPartGal880027" role="group"><div class="gallery-layout"><div class="gallery-layout-container"><figure class="gal-mgb" data-index="0"><img src="http://img.wonderhowto.com/img/18/70/63513197730544/0/hack-wi-fi-cracking-wpa2-psk-passwords-using-aircrack-ng.w654.jpg" alt="How to Hack Wi-Fi: Cracking WPA2-PSK Passwords Using Aircrack-Ng" width="532" height="532" style="max-width:532px;height:auto;"/></figure></div></div></figure> <ul><li><em><strong>WPAcrack-01.cap</strong> is the name of the file we wrote to in the airodump-ng command</em></li> <li><em><strong>/pentest/passwords/wordlist/darkc0de</strong> is the absolute path to your password file</em></li></ul>
</section>
<section>
    <h2 class="sectionHeadline">How Long Will It Take?</h2><p>This process can be relatively slow and tedious. Depending upon the length of your password list, you could be waiting a few minutes to a few days. On my dual core 2.8 gig Intel processor, it's capable of testing a little over 500 passwords per second. That works out to about 1.8 million passwords per hour. Your results will vary.</p><p>When the password is found, it'll appear on your screen. Remember, the password file is critical. Try the default password file first and if it's not successful, advance to a larger, more complete password file such as one of these.</p><ul><li><a  href="https://crackstation.net/buy-crackstation-wordlist-password-cracking-dictionary.htm" rel="nofollow" target="_blank" >CrackStation's Password Cracking Dictionary</a></li> <li><a  href="http://www.skullsecurity.org/wiki/index.php/Passwords" rel="nofollow" target="_blank" >SkullSecurity's Password Dictionaries</a></li></ul>
</section>